<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABAPTYPES_LOB_HANDLE -->

<!-- Mirrored from help.sap.com/doc/abapdocu_751_index_htm/7.51/en-US/abaptypes_lob_handle.htm by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 20 Jan 2022 17:33:42 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="TYPES - LOB HANDLE">
<title>
TYPES - LOB HANDLE - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script type="text/JavaScript">
function call_link(linked_file)
{
   if(parent.frames.length>0){
     parent.window.frames["basefrm"].window.location = linked_file;
     parent.window.frames["treeframe"].window.location = "abap_docu_tree92bd.html?file=" + linked_file;}
   else {
     window.location = linked_file;}
}
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abaptypes_lob_handle.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abaptypes_lob_handle.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<p class="copyright">SAP NetWeaver AS ABAP Release 751, &copy;Copyright 2017 SAP AG. All rights reserved.
&nbsp;<input type="button" value="URL" style="font-size:8px; width:26px; height:16px; padding:0"
 onclick="urlToClipboard('url')" title="Copy URL to Clipboard" >
</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP - Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP - Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abendeclarations.html')" class="blue">Declarations</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_declarations.html')" class="blue">Declaration Statements</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abentypes_and_objects.html')" class="blue">Data Types and Data Objects</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abentypes_statements.html')" class="blue">Declaring Data Types</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abaptypes.html')" class="blue">TYPES</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@FOR COLUMNS@@TYPES@@"></A>
<p><span class="h1">
TYPES - LOB HANDLE <br><br>
</span></p>
<P>
<a href="javascript:call_link('abaptypes_shortref.html')" class="blue">Quick Reference</a> <br><br>
</P>
<p><span class="h2">
<span class="bold">Syntax</span>
</span></p>
<P>
<span class="qtext">TYPES dtype TYPE dbtab<i class=bn>|</i>view <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a href="javascript:call_link('abaptypes_lob_handle_type.html')" class="blue">lob_handle_type</a> FOR <a href="javascript:call_link('abaptypes_lob_handle_columns.html')" class="blue">lob_handle_columns</a> <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class=bn>[</i>
<a href="javascript:call_link('abaptypes_lob_handle_type.html')" class="blue">lob_handle_type</a> FOR <a href="javascript:call_link('abaptypes_lob_handle_columns.html')" class="blue">lob_handle_columns</a> <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <i class=bn>]</i>.</span> <br><br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Derives a <a href="javascript:call_link('abenlob_handle_structure_glosry.html')" class="grey" title="Glossary Entry">LOB handle structure</a> as a work area for working with
<a href="javascript:call_link('abenstreams_locators.html')" class="blue">streaming and locators in Open SQL</a>. <span class="qtext">dbtab</span> expects a
<a href="javascript:call_link('abendatabase_table_glosry.html')" class="grey" title="Glossary Entry">database table</a> defined in ABAP Dictionary or a
<a href="javascript:call_link('abendatabase_view_glosry.html')" class="grey" title="Glossary Entry">database view</a> defined for <span class="qtext">view</span> in ABAP Dictionary.
</P>
<P>
The columns <a href="javascript:call_link('abaptypes_lob_handle_columns.html')" class="blue"><span class="qtext">lob_handle_columns</span></a>, when specified, are used to determine
<a href="javascript:call_link('abenlob_glosry.html')" class="grey" title="Glossary Entry">LOBs</a> from <span class="qtext">dbtab</span>.
The statement creates a deep structure that is constructed for all columns not among the specified columns
exactly as it is for a regular <a href="javascript:call_link('abaptypes_referring.html')" class="blue"><span class="qtext">TYPE</span>
reference</a> to <span class="qtext">dbtab</span>. For the LOBs included in the specified columns, a component with the same name is created as a
<a href="javascript:call_link('abenlob_handle_component_glosry.html')" class="grey" title="Glossary Entry">LOB handle component</a>. The
<a href="javascript:call_link('abenstatic_type_glosry.html')" class="grey" title="Glossary Entry">static type</a> of the LOB
handle components is a class or an interface determined by the specified type <a href="javascript:call_link('abaptypes_lob_handle_type.html')" class="blue">
<span class="qtext">lob_handle_type</span></a>, and is assigned to the respective specified column.
</P>
<P>
The combinations of the additions specified under <a href="javascript:call_link('abaptypes_lob_handle_columns.html')" class="blue"><span class="qtext">
lob_handle_columns</span></a> and <a href="javascript:call_link('abaptypes_lob_handle_type.html')" class="blue"><span class="qtext">lob_handle_type</span></a> are determined using the following rules:
</P>
<ul class="disc">
<li>
A LOB handle structure can be derived for either <a href="javascript:call_link('abenopen_sql_reading.html')" class="blue">reading</a> or <a href="javascript:call_link('abenopen_sql_writing.html')" class="blue">writing</a> Open SQL statements only.
<br></li>
</ul>
<ul class="circlem2">
<li>A structure for reads can only contain the specified types <a href="javascript:call_link('abaptypes_lob_handle_type.html')" class="blue">
<span class="qtext">READER</span></a>, <a href="javascript:call_link('abaptypes_lob_handle_type.html')" class="blue"><span class="qtext">LOCATOR</span></a>,
and <a href="javascript:call_link('abaptypes_lob_handle_type.html')" class="blue"><span class="qtext">LOB HANDLE</span></a>.</li>
</ul>
<ul class="circlem2">
<li>A structure for writes can only contain the specified types <a href="javascript:call_link('abaptypes_lob_handle_type.html')" class="blue">
<span class="qtext">WRITER</span></a> and <a href="javascript:call_link('abaptypes_lob_handle_type.html')" class="blue"><span class="qtext">LOCATOR</span></a>.</li>
</ul>
<ul class="disc">
<li>
The definition of the LOB handle components must not contain contradictions, which means that columns must not be assigned to unsuitable types or a column cannot be assigned to multiple types.
<br><br></li>
<li>
The definition of LOB handle components must not contain redundancies. If specified, the following must create a set of LOB handle components: <br>
 <br> <span class="qtext">... <a href="javascript:call_link('abaptypes_lob_handle_type.html')" class="blue">lob_handle_type</a> FOR <a href="javascript:call_link('abaptypes_lob_handle_columns.html')" class="blue">lob_handle_columns</a> ...</span> <br>
 <br>This set of LOB handle components must not overlap with another specified set of LOB handle components.
<br><br></li>
<li>
The definition of the LOB handle components must be specified with as few components as possible. If
the same set of LOB handle components can be specified once rather than multiple times, the more comprehensive option must be used.
<br></li>
</ul>
<P>
Apart from the rules specified under <a href="javascript:call_link('abaptypes_lob_handle_columns.html')" class="blue"><span class="qtext">lob_handle_columns</span></a>
and <a href="javascript:call_link('abaptypes_lob_handle_type.html')" class="blue"><span class="qtext">lob_handle_type</span></a>, there are also the following general restrictions:
</P>
<ul class="disc">
<li>
At least one column must be specified.
<br><br></li>
<li>
The <a href="javascript:call_link('abaptypes_lob_handle_type.html')" class="blue">types specified</a> for the first three specified
columns for LOB handle components for reads and the first two columns for LOB handle components for writes cannot be the same.
<br><br></li>
<li>
In each case, there can only be one <a href="javascript:call_link('abaptypes_lob_handle_columns.html')" class="blue">column specified</a>
as <span class="qtext">ALL ... COLUMNS</span> in which <span class="qtext">BLOB</span> or <span class="qtext">CLOB</span> is specified.
<br><br></li>
<li>
The <a href="javascript:call_link('abaptypes_lob_handle_columns.html')" class="blue">specified columns</a> <span class="qtext">ALL BLOB<i
class=bn>|</i>CLOB COLUMNS</span> include all BLOBs or CLOBs. If they are specified, an individual BLOB or CLOB cannot also be specified in a
<a href="javascript:call_link('abaptypes_lob_handle_columns.html')" class="blue">specified column</a> <span class="qtext">COLUMNS ...</span> for the same <a href="javascript:call_link('abaptypes_lob_handle_type.html')" class="blue">static type</a>.
<br><br></li>
<li>
The <a href="javascript:call_link('abaptypes_lob_handle_columns.html')" class="blue">specified columns</a> <span class="qtext">ALL
OTHER COLUMNS</span> include all columns that are not specified individually. <span class="qtext">ALL OTHER BLOB COLUMNS</span> or <span class="qtext">ALL OTHER CLOB COLUMNS</span> cannot be specified at the same time.
<br><br></li>
<li>
The <span class="qtext">specified columns</span> <a href="javascript:call_link('abaptypes_lob_handle_columns.html')" class="blue">ALL COLUMNS</a> include all LOBs and can therefore only be specified on their own. <br><br>
<br></li>
</ul>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
LOB handle structures can also be defined using the corresponding typing of components between <a href="javascript:call_link('abaptypes_struc.html')" class="blue"><span class="qtext">BEGIN OF</span> and <span class="qtext">END OF</span></a>.
<br><br></li>
<li>
LOB handle structures can also be derived in ABAP Dictionary. The display of database tables or views containing LOBs includes a function for this.
<br><br></li>
<li>
If <span class="qtext">dbtab</span> does not contain any LOBs that match the specified columns, no LOB handle components are created and the statement creates a normal work area.
<br><br></li>
<li>
If LOBs are added to <span class="qtext">dbtab</span> that match the
<a href="javascript:call_link('abaptypes_lob_handle_columns.html')" class="blue">specified columns</a> <span class="qtext">ALL <i class=bn>[</i>OTHER<i class=bn>]</i> ...</span>, LOB handle components are also created for these.
<br></li>
</ul>
<p><span class="h4">
Example
</span></p>
<p>
Declares types for work areas with LOB handle components for a writer stream and a reader stream for the column PICTURE and a locator for all LOBs in the database table <span class="lnkgrey">DEMO_BLOB_TABLE</span>.
</p>
<p class="qtextml1">
<span class="qtext">
TYPES: <br>&nbsp;&nbsp;wa1 TYPE demo_blob_table WRITER FOR COLUMNS picture, <br>&nbsp;&nbsp;wa2 TYPE demo_blob_table READER FOR COLUMNS picture, <br>&nbsp;&nbsp;wa3 TYPE demo_blob_table LOCATOR FOR ALL COLUMNS.
</span>
</p>
<p><span class="h4">
Executable Example
</span></p>
<P>
Deriving <a href="javascript:call_link('abentypes_lob_handle_abexa.html')" class="blue">LOB Handle Structures</a>
</P>
<br>
<br>
<!-- POSTFIX --><span class="h4">Continue</span><br>
<a href="javascript:call_link('abaptypes_lob_handle_type.html')" class="blue">TYPES - lob_handle_type</a><br>
<a href="javascript:call_link('abaptypes_lob_handle_columns.html')" class="blue">TYPES - lob_handle_columns</a><br>
<img src="exa.gif" alt="Example" title="Example">
<a href="javascript:call_link('abentypes_lob_handle_abexa.html')" class="blue">Deriving LOB Handle Structures</a><br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_751_index_htm/7.51/en-US/abaptypes_lob_handle.htm by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 20 Jan 2022 17:33:44 GMT -->
</html>
