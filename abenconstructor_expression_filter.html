<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENCONSTRUCTOR_EXPRESSION_FILTER -->

<!-- Mirrored from help.sap.com/doc/abapdocu_751_index_htm/7.51/en-US/abenconstructor_expression_filter.htm by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 20 Jan 2022 17:41:59 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="FILTER - Filter Operator">
<title>
FILTER - Filter Operator - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script type="text/JavaScript">
function call_link(linked_file)
{
   if(parent.frames.length>0){
     parent.window.frames["basefrm"].window.location = linked_file;
     parent.window.frames["treeframe"].window.location = "abap_docu_tree92bd.html?file=" + linked_file;}
   else {
     window.location = linked_file;}
}
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abenconstructor_expression_filter.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abenconstructor_expression_filter.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<p class="copyright">SAP NetWeaver AS ABAP Release 751, &copy;Copyright 2017 SAP AG. All rights reserved.
&nbsp;<input type="button" value="URL" style="font-size:8px; width:26px; height:16px; padding:0"
 onclick="urlToClipboard('url')" title="Copy URL to Clipboard" >
</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP - Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP - Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_data_working.html')" class="blue">Processing Internal Data</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenitab.html')" class="blue">Internal Tables</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abentable_processing_expr_func.html')" class="blue">Expressions and Functions for Internal Tables</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@FILTER@@!ABAP_CONSTRUCTOR!@@"></A>
<A NAME="@@#@@FILTER@@"></A>
<A NAME="@@USING KEY@@FILTER@@"></A>
<A NAME="@@WHERE@@FILTER@@"></A>
<A NAME="@@AND@@FILTER@@"></A>
<p><span class="h1">
FILTER - Filter Operator
</span></p>
<p><span class="h2">
<span class="bold">Syntax Forms</span>
</span></p>
<P>
 <br><a href="javascript:call_link('abenconstructor_expr_filter_basic.html')" class="blue">Basic Form</a> <br> <br>1. <span class="qtext">... FILTER type( itab <i class=bn>[</i>EXCEPT<i class=bn>]</i> <i class=bn>[</i>USING KEY
<a href="javascript:call_link('abenkeyname.html')" class="blue">keyname</a><i class=bn>]</i> <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHERE c1 op f1 <i class=bn>[</i>AND c2 op f2 <i class=bn>[</i>...<i class=bn>]</i><i class=bn>]</i> ) ...</span> <br> <br>
<a href="javascript:call_link('abenconstructor_expr_filter_table.html')" class="blue">Filter table</a> <br> <br>2. <span class="qtext">... FILTER type( itab <i class=bn>[</i>EXCEPT<i class=bn>]</i> IN ftab <i class=bn>[</i>USING KEY
<a href="javascript:call_link('abenkeyname.html')" class="blue">keyname</a><i class=bn>]</i> <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHERE c1 op f1 <i
class=bn>[</i>AND c2 op f2 <i class=bn>[</i>...<i class=bn>]</i><i class=bn>]</i> ) ...</span> <br><br>
</P>
<p><span class="h3">
Addition:
</span></p>
<P>
   <A HREF="#!ABAP_ONE_ADD@1@" class="blue"> <span class="qtext">... EXCEPT</span> </A> <br><br>
</P>
<p><span class="h4">
Effect
</span></p>
<p>
A <a href="javascript:call_link('abenconstructor_expressions.html')" class="blue">constructor expression</a> with the component
operator <span class="qtext">FILTER</span> creates a result of a table type specified using <span class="qtext">type</span>.
&#x200E;The rows are taken from an existing internal table <span class="qtext">itab</span> in accordance
with the condition after <span class="qtext">WHERE</span>, converted to the row type of <span class="qtext">type</span>, and inserted into the target table in accordance with the rules of <span class="qtext">
<a href="javascript:call_link('abapinsert_itab.html')" class="blue">INSERT</a> ... <a href="javascript:call_link('abapinsert_itab_position.html')" class="blue">INTO TABLE</a></span>.
</p>
<ul class="disc">
<li>In the <a href="javascript:call_link('abenconstructor_expr_filter_basic.html')" class="blue">basic form</a> the condition is created with single values.</li>
</ul>
<ul class="disc">
<li>When using a <a href="javascript:call_link('abenconstructor_expr_filter_table.html')" class="blue">filter table</a>, the condition is created with values from the filter table <span class="qtext">ftab</span>.</li>
</ul>
<p>
The following can be specified for <span class="qtext">type</span>:
</p>
<ul class="disc">
<li>A non-generic <a href="javascript:call_link('abentable_type_glosry.html')" class="grey" title="Glossary Entry">table type</a>.</li>
</ul>
<ul class="disc">
<li>The <span class="qtext">#</span> character as a symbol for the
<a href="javascript:call_link('abenoperand_type_glosry.html')" class="grey" title="Glossary Entry">operand type</a>. If the data
type required in an operand position is not unique and not known completely, the type of <span class="qtext">itab</span> is used if known.</li>
</ul>
<p>
<span class="qtext">itab</span> is a <a href="javascript:call_link('abenfunctional_position_glosry.html')" class="grey" title="Glossary Entry">
functional operand position</a>. The row type of <span class="qtext">itab</span> must be convertible
to the row type of the target type <span class="qtext">type</span>. <span class="qtext">USING KEY</span>
can (or must) be used to specify a table key for evaluating <span class="qtext">itab</span> or <span class="qtext">ftab</span> (depending on the variant).
</p>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>Table filtering can also be performed using a
<a href="javascript:call_link('abentable_comprehension_glosry.html')" class="grey" title="Glossary Entry">table comprehension</a> or a
<a href="javascript:call_link('abentable_reduction_glosry.html')" class="grey" title="Glossary Entry">table reduction</a> with an
<a href="javascript:call_link('abeniteration_expression_glosry.html')" class="grey" title="Glossary Entry">iteration expression</a> for
<a href="javascript:call_link('abentable_iteration_glosry.html')" class="grey" title="Glossary Entry">table iterations</a> with
<a href="javascript:call_link('abenfor_itab.html')" class="blue"><span class="qtext">FOR</span></a>. The operator <span class="qtext">FILTER</span> provides a shortened format for this special case and is more efficient to execute.</li>
</ul>
<ul class="disc">
<li>A table filter constructs the result row by row. If the result contains almost all rows in the source
table, this method can be slower than copying the source table and deleting the surplus rows from the target table. <br><br></li>
</ul>
<A NAME="@@EXCEPT@@FILTER@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ONE_ADD@1@"></A> <span class="bold">Addition</span>
</span></p>
<P>
<span class="qtext">... EXCEPT</span> <!-- /A -->  <br>
</P>
<p><span class="h4">
Effect
</span></p>
<p>
If <span class="qtext">EXCEPT</span> is not specified, those rows from <span class="qtext">itab</span>
are used that meet the <span class="qtext">WHERE</span> condition. If <span class="qtext">EXCEPT</span>
is specified, those rows from <span class="qtext">itab</span> are used that do not meet the <span class="qtext">WHERE</span> condition.
</p>
<p><span class="h4">
Note
</span></p>
<p>
The addition <span class="qtext">EXCEPT</span> is not the same as a negation of the <span class="qtext">WHERE</span> condition, particularly in the variant with a
<a href="javascript:call_link('abenconstructor_expr_filter_table.html')" class="blue">filter table</a>.
</p>
<p><span class="h4">
Example
</span></p>
<p>
Using the addition <span class="qtext">EXCEPT</span> in the <a href="javascript:call_link('abenconstructor_expr_filter_basic.html')" class="blue">basic form</a> of the <span class="qtext">FILTER</span> operator.
</p>
<p class="qtextml1">
<span class="qtext">
DATA messages TYPE SORTED TABLE OF t100 WITH NON-UNIQUE KEY sprsl. <br>SELECT * <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM t100 <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WHERE arbgb = 'SABAPDEMOS' <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO TABLE @messages. <br>
 <br>cl_demo_output=>display( <br>&nbsp;&nbsp;FILTER #( messages EXCEPT WHERE sprsl = 'D' ) ).
</span>
</p>
<br>
<br>
<!-- POSTFIX --><span class="h4">Continue</span><br>
<a href="javascript:call_link('abenconstructor_expr_filter_basic.html')" class="blue">FILTER - Basic Form</a><br>
<a href="javascript:call_link('abenconstructor_expr_filter_table.html')" class="blue">FILTER - Filter Table</a><br>
<a href="javascript:call_link('abentable_filtering_abexas.html')" class="blue">Examples of Table Filtering</a><br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_751_index_htm/7.51/en-US/abenconstructor_expression_filter.htm by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 20 Jan 2022 17:41:59 GMT -->
</html>
