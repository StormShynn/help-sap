<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENSTRING_TEMPLATES_EXPRESSIONS -->

<!-- Mirrored from help.sap.com/doc/abapdocu_751_index_htm/7.51/en-US/abenstring_templates_expressions.htm by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 20 Jan 2022 17:40:26 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="String Templates - embedded_expressions">
<meta name="keywords" content="ABAP, Embedded Expressions, String Template">
<title>
String Templates - embedded_expressions - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script type="text/JavaScript">
function call_link(linked_file)
{
   if(parent.frames.length>0){
     parent.window.frames["basefrm"].window.location = linked_file;
     parent.window.frames["treeframe"].window.location = "abap_docu_tree92bd.html?file=" + linked_file;}
   else {
     window.location = linked_file;}
}
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abenstring_templates_expressions.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abenstring_templates_expressions.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<p class="copyright">SAP NetWeaver AS ABAP Release 751, &copy;Copyright 2017 SAP AG. All rights reserved.
&nbsp;<input type="button" value="URL" style="font-size:8px; width:26px; height:16px; padding:0"
 onclick="urlToClipboard('url')" title="Copy URL to Clipboard" >
</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP - Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP - Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_data_working.html')" class="blue">Processing Internal Data</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_data_string.html')" class="blue">Character String and Byte String Processing</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenstring_processing_expr_func.html')" class="blue">Expressions and Functions for String Processing</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abapcompute_string.html')" class="blue">string_exp - String Expressions</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenstring_templates.html')" class="blue">string_exp - String Templates</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@{ }@@!ABAP_STRING_TEMPL!@@"></A>
<p><span class="h1">
String Templates - embedded_expressions
</span></p>
<A name="@@ITOC@@ABENSTRING_TEMPLATES_EXPRESSIONS_1"></A>
<p><span class="h2">
Syntax
</span></p>
<p>
<span class="qtext">{ expr <i class=bn>[</i><a href="javascript:call_link('abapcompute_string_format_options.html')" class="blue">format_options</a><i class=bn>]</i> }</span>
</p>
<p><span class="h4">
Effect
</span></p>
<p>
Within a string template, an opening and a closing curly bracket <span class="qtext">{ ... }</span> define a
<a href="javascript:call_link('abengeneral_expr_position_glosry.html')" class="grey" title="Glossary Entry">general expression position</a> <span class="qtext">expr</span> in which
</p>
<ul class="disc">
<li><a href="javascript:call_link('abendata_object_glosry.html')" class="grey" title="Glossary Entry">data objects</a>,</li>
</ul>
<ul class="disc">
<li><a href="javascript:call_link('abencalculation_expression_glosry.html')" class="grey" title="Glossary Entry">calculation expressions</a>,</li>
</ul>
<ul class="disc">
<li><a href="javascript:call_link('abenconstructor_expression_glosry.html')" class="grey" title="Glossary Entry">constructor expressions</a>,</li>
</ul>
<ul class="disc">
<li><a href="javascript:call_link('abentable_expression_glosry.html')" class="grey" title="Glossary Entry">table expressions</a></li>
</ul>
<ul class="disc">
<li><a href="javascript:call_link('abenpredefined_function_glosry.html')" class="grey" title="Glossary Entry">predefined functions</a>, or</li>
</ul>
<ul class="disc">
<li><a href="javascript:call_link('abenfunctional_method_glosry.html')" class="grey" title="Glossary Entry">functional methods</a> and
<a href="javascript:call_link('abenmethod_chaining_glosry.html')" class="grey" title="Glossary Entry">method chainings</a></li>
</ul>
<p>
can be specified in ABAP syntax. At least one blank must be included on the right of the opening bracket
and one the left of the closing bracket. An embedded expression must be complete within the current string template. An embedded expression within the curly brackets is handled in accordance with regular ABAP syntax:
</p>
<ul class="disc">
<li>Tokens must be separated by at least one blank or line break.</li>
</ul>
<ul class="disc">
<li>In other cases, blanks and line breaks between tokens are not significant.</li>
</ul>
<ul class="disc">
<li>No distinction is made between uppercase and lowercase letters.</li>
</ul>
<ul class="disc">
<li><a href="javascript:call_link('abencomment_glosry.html')" class="grey" title="Glossary Entry">Comments</a> can be specified.</li>
</ul>
<p>
The data type of the expression must be an <a href="javascript:call_link('abenelementary_data_type_glosry.html')" class="grey" title="Glossary Entry">
elementary data type</a> and the value of the expression must be character-like or be convertible to
a string. When a string template is analyzed, the value of each embedded expression is converted to a character string. The string is inserted in the correct location. The string is formatted either using
</p>
<ul class="disc">
<li><a href="javascript:call_link('abenstring_templates_predef_format.html')" class="blue">predefined formats</a> or</li>
</ul>
<ul class="disc">
<li>formatting options <a href="javascript:call_link('abapcompute_string_format_options.html')" class="blue"><span class="qtext">format_options</span></a>.</li>
</ul>
<p>
The embedded expressions in a string template are analyzed from left to right. If
<a href="javascript:call_link('abenfunctional_method_glosry.html')" class="grey" title="Glossary Entry">function methods</a> are specified, they are executed during the analysis.
</p>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>To display the curly brackets <span class="qtext">{</span> and <span class="qtext">}</span> in
<a href="javascript:call_link('abenstring_templates_literals.html')" class="blue">literal text</a> in a string template, they must be prefixed with the escape character <span class="qtext">\</span>.</li>
</ul>
<ul class="disc">
<li>Curly brackets cannot be nested directly. If <span class="qtext">expr</span> is itself a string expression, or contains a string expression, it can contain embedded expressions.</li>
</ul>
<ul class="disc">
<li><a href="javascript:call_link('abenstring_function_glosry.html')" class="grey" title="Glossary Entry">String functions</a> with character-like return values are recommended when embedded functions are specified.</li>
</ul>
<ul class="disc">
<li>Unlike <a href="javascript:call_link('abapcompute_arith.html')" class="blue">arithmetic expressions</a> and
<a href="javascript:call_link('abapcompute_bit.html')" class="blue">bit expressions</a>, embedded functional methods are not
executed before the whole expression is analyzed. If an embedded functional method modifies the value
of data objects that are also used as embedded operands, the change only affects data objects on the right of the method.</li>
</ul>
<ul class="disc">
<li>The delimiter characters "<span class="qtext">|</span>" can be formatted in the new ABAP Editor
by choosing <span class="italic">Fonts and Colors &rarr; Token operator</span> to highlight them in the source code.</li>
</ul>
<p><span class="h4">
Example
</span></p>
<p>
The string template in the method <span class="qtext">main</span> uses embedded expressions to display
the text "Hello world!". The first embedded expression is the attribute <span class="qtext">attr</span>
of the class. The return value of the method <span class="qtext">func</span> is used in the second embedded
expression. The third embedded expression is again the attribute <span class="qtext">attr</span>, whose
value has been changed in the method <span class="qtext">func</span> in the meantime. The second embedded expression includes a line break and a comment.
</p>
<p class="qtextml1">
<span class="qtext">
CLASS demo DEFINITION. <br>&nbsp;&nbsp;PUBLIC SECTION. <br>&nbsp;&nbsp;&nbsp;&nbsp;CLASS-METHODS: main, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; func RETURNING value(p) TYPE string. <br>
&nbsp;&nbsp;PRIVATE SECTION. <br>&nbsp;&nbsp;&nbsp;&nbsp;CLASS-DATA attr TYPE string VALUE `Hello`. <br>
ENDCLASS. <br> <br>CLASS demo IMPLEMENTATION. <br>&nbsp;&nbsp;METHOD main. <br>&nbsp;&nbsp;&nbsp;&nbsp;DATA txt TYPE string. <br>
&nbsp;&nbsp;&nbsp;&nbsp;txt = |{ attr }{ func( ) "a function call <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WIDTH = 6 ALIGN = RIGHT }{ attr }|. <br>
&nbsp;&nbsp;&nbsp;&nbsp;cl_demo_output=>display( txt ). <br>&nbsp;&nbsp;ENDMETHOD. <br>&nbsp;&nbsp;METHOD func. <br>
&nbsp;&nbsp;&nbsp;&nbsp;p = `world`. <br>&nbsp;&nbsp;&nbsp;&nbsp;attr = '!'. <br>&nbsp;&nbsp;ENDMETHOD. <br>ENDCLASS. <br> <br>START-OF-SELECTION. <br>&nbsp;&nbsp;demo=>main( ). <br>
</span>
</p>
<br>
<br>
<!-- POSTFIX --><span class="h4">Continue</span><br>
<a href="javascript:call_link('abenstring_templates_predef_format.html')" class="blue">Embedded Expressions - Predefined Formats</a><br>
<a href="javascript:call_link('abapcompute_string_format_options.html')" class="blue">Embedded Expressions - format_options</a><br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_751_index_htm/7.51/en-US/abenstring_templates_expressions.htm by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 20 Jan 2022 17:40:26 GMT -->
</html>
