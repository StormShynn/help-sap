<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENCDS_META_DATA_EXTENSIONS -->

<!-- Mirrored from help.sap.com/doc/abapdocu_751_index_htm/7.51/en-US/abencds_meta_data_extensions.htm by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 20 Jan 2022 17:25:25 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="ABAP CDS Metadata Extensions">
<meta name="keywords" content="ABAP, Metadata Enhancements">
<title>
ABAP CDS Metadata Extensions - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script type="text/JavaScript">
function call_link(linked_file)
{
   if(parent.frames.length>0){
     parent.window.frames["basefrm"].window.location = linked_file;
     parent.window.frames["treeframe"].window.location = "abap_docu_tree92bd.html?file=" + linked_file;}
   else {
     window.location = linked_file;}
}
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abencds_meta_data_extensions.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abencds_meta_data_extensions.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<p class="copyright">SAP NetWeaver AS ABAP Release 751, &copy;Copyright 2017 SAP AG. All rights reserved.
&nbsp;<input type="button" value="URL" style="font-size:8px; width:26px; height:16px; padding:0"
 onclick="urlToClipboard('url')" title="Copy URL to Clipboard" >
</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP - Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_dictionary.html')" class="blue">ABAP - Dictionary</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds.html')" class="blue">ABAP CDS in ABAP Dictionary</a>&nbsp;&rarr;&nbsp;
</span>
<p><span class="h1">
ABAP CDS Metadata Extensions
</span></p>
<p>
A <a href="javascript:call_link('abencds_metadata_extension_glosry.html')" class="grey" title="Glossary Entry">CDS metadata extension</a> (MDE) extends a
<a href="javascript:call_link('abencds_entity_glosry.html')" class="grey" title="Glossary Entry">CDS entity</a> with
<a href="javascript:call_link('abencds_annotation_glosry.html')" class="grey" title="Glossary Entry">CDS annotations</a> that are not defined in the
<a href="javascript:call_link('abencds_source_code_glosry.html')" class="grey" title="Glossary Entry">CDS source code</a> of the
<a href="javascript:call_link('abencds_data_definition_glosry.html')" class="grey" title="Glossary Entry">data definition</a>. CDS metadata extensions can currently only be created for
<a href="javascript:call_link('abencds_view_glosry.html')" class="grey" title="Glossary Entry">CDS views</a>.
</p>
<p>
A CDS metadata extension is a <a href="javascript:call_link('abencds_object_glosry.html')" class="grey" title="Glossary Entry">CDS object</a> that is defined and transported in a separate
<a href="javascript:call_link('abencds_source_code_glosry.html')" class="grey" title="Glossary Entry">CDS source code</a>. This CDS source code can only be edited in the
<a href="javascript:call_link('abenadt_glosry.html')" class="grey" title="Glossary Entry">ABAP Development Tools (ADT)</a>. Once
a CDS metadata extension has been activated for a CDS entity, the methods of the class <span class="lnkgrey">CL_DD_DDL_ANNOTATION_SERVICE</span> take the annotations of the associated metadata extensions into account by default when
<a href="javascript:call_link('abencds_annotations_analysis.html')" class="blue">evaluating the annotations</a> of this entity.
</p>
<p>
There is a dedicated set of CDS-DDL statements for defining metadata extensions in CDS source code, next to the
<a href="javascript:call_link('abencds_f1_ddl_syntax.html')" class="blue">CDS-DDL statements for data definitions</a>. A prerequisite
for extending a CDS entity with metadata extensions is that the annotation <span class="qtext400">Metadata.allowExtensions</span>
(with the default value <span class="qtext400">true</span>) is specified in the source code of the CDS entity.
</p>
<p>
There can be several metadata extensions for one CDS entity. The following rules determine which metadata extension to use to <a href="javascript:call_link('abencds_annotations_analysis.html')" class="blue">evaluate the annotations</a>:
</p>
<ul class="disc">
<li>Each metadata extension is assigned to a layer, such as branch, partner, or customer. The layer determines the priority of the evaluation.</li>
</ul>
<ul class="disc">
<li>A metadata extension can be joined to a <a href="javascript:call_link('abencds_variant_glosry.html')" class="grey" title="Glossary Entry">
CDS variant</a>. The CDS variant can be specified during the evaluation of the annotations of a CDS entity to select the metadata extension.</li>
</ul>
<p>
In an evaluation with the class CL_DD_DDL_ANNOTATION_SERVICE, the metadata extensions of the specified
variant are searched for annotations first, and then the metadata extensions without a join to a variant.
In each case, the priority is determined by the layers of the metadata extensions. Next, the direct and indirect annotations of the CDS entity itself are added that do not have an entry in a metadata extension.
</p>
<p>
For more information, see:
</p>
<ul class="disc">
<li><a href="javascript:call_link('abencds_f1_ddlx_syntax.html')" class="blue">DDL for Metadata Extensions</a></li>
</ul>
<ul class="disc">
<li><a href="javascript:call_link('abencds_meta_data_extension_eval.html')" class="blue">Evaluation of Metadata Extensions</a></li>
</ul>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>The source code and the activation of a CDS entity are completely independent of any metadata extensions
for this entity. For this reason, a metadata extension can only add annotations that are not already evaluated during the activation of the CDS entity.</li>
</ul>
<ul class="disc">
<li>Metadata extensions separate the definition of the metadata from the actual data definition, and thus support the
<a href="javascript:call_link('abenseperation_concerns_guidl.html')" class="lnkpurple" title="Guideline">separation of concerns
(SoC)</a> concept. Defining the annotations that are not required to activate a CDS entity outside the CDS source code of the CDS entity has the following advantages:</li>
</ul>
<ul class="circlem2">
<li>It greatly improves the readability of the CDS source code of a data definition if it does not have to list all the metadata.</li>
</ul>
<ul class="circlem2">
<li>The metadata can be defined and transported independently of the data definition.</li>
</ul>
<ul class="circlem2">
<li>Separating the activation of metadata from the data definition avoids the need for mass activation of dependent repository objects that can occur when activating a data definition.</li>
</ul>
<ul class="disc">
<li>When using metadata extensions for <a href="javascript:call_link('abencds_annotations_frmwrk.html')" class="blue">framework-specific
annotations</a>, please note the relevant rules. Otherwise error messages can occur during framework-specific checks.</li>
</ul>
<ul class="disc">
<li>Layers and CDS variants allow frameworks, partners, and customers to override the metadata of a CDS entity without making modifications.</li>
</ul>
<ul class="disc">
<li>Metadata extensions can be bound to <a href="javascript:call_link('abenswitch_framework_glosry.html')" class="grey" title="Glossary Entry">Switch Framework</a>, making them switchable.</li>
</ul>
<p><span class="h4">
Caution
</span></p>
<p>
<span class="bold">CDS variants are not currently released for general use. It is not possible to define standalone CDS variants and the use of CDS variants in metadata extensions produces a syntax check warning.</span>
</p>
<br>
<br>
<!-- POSTFIX --><span class="h4">Continue</span><br>
<a href="javascript:call_link('abencds_f1_ddlx_syntax.html')" class="blue">ABAP CDS - DDL for Metadata Extensions</a><br>
<a href="javascript:call_link('abencds_meta_data_extension_eval.html')" class="blue">ABAP CDS - Evaluation of Metadata Extensions</a><br>
<img src="exa.gif" alt="Example" title="Example">
<a href="javascript:call_link('abencds_annotate_view_abexa.html')" class="blue">CDS Metadata Extensions with CDS Variants</a><br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_751_index_htm/7.51/en-US/abencds_meta_data_extensions.htm by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 20 Jan 2022 17:25:26 GMT -->
</html>
