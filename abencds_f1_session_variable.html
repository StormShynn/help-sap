<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENCDS_F1_SESSION_VARIABLE -->

<!-- Mirrored from help.sap.com/doc/abapdocu_751_index_htm/7.51/en-US/abencds_f1_session_variable.htm by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 20 Jan 2022 17:25:02 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="ABAP CDS - session_variable">
<meta name="keywords" content="ABAP, ABAP CDS, Session Variables">
<title>
ABAP CDS - session_variable - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script type="text/JavaScript">
function call_link(linked_file)
{
   if(parent.frames.length>0){
     parent.window.frames["basefrm"].window.location = linked_file;
     parent.window.frames["treeframe"].window.location = "abap_docu_tree92bd.html?file=" + linked_file;}
   else {
     window.location = linked_file;}
}
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abencds_f1_session_variable.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abencds_f1_session_variable.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<p class="copyright">SAP NetWeaver AS ABAP Release 751, &copy;Copyright 2017 SAP AG. All rights reserved.
&nbsp;<input type="button" value="URL" style="font-size:8px; width:26px; height:16px; padding:0"
 onclick="urlToClipboard('url')" title="Copy URL to Clipboard" >
</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP - Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_dictionary.html')" class="blue">ABAP - Dictionary</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds.html')" class="blue">ABAP CDS in ABAP Dictionary</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenddic_cds_entities.html')" class="blue">ABAP CDS - Data Definitions</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds_f1_ddl_syntax.html')" class="blue">ABAP CDS - DDL for Data Definitions</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds_f1_define_view.html')" class="blue">ABAP CDS - DEFINE VIEW</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds_f1_select_statement.html')" class="blue">ABAP CDS - SELECT</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds_operands_and_expressions.html')" class="blue">ABAP CDS - SELECT, Operands and Expressions</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@$session@@!ABAP_CDS_SELECT!@@"></A>
<p><span class="h1">
ABAP CDS - session_variable
</span></p>
<A name="@@ITOC@@ABENCDS_F1_SESSION_VARIABLE_1"></A>
<p><span class="h2">
Syntax
</span></p>
<p>
<span class="qtext400">... $session.vname ...</span>
</p>
<p><span class="h4">
Effect
</span></p>
<p>
Specifies a <a href="javascript:call_link('abensession_variable_glosry.html')" class="grey" title="Glossary Entry">session variable</a>
<span class="qtext">vname</span> in an operand position in a <a href="javascript:call_link('abencds_f1_select_statement.html')" class="blue"><span class="qtext400">SELECT</span> statement</a> of a
<a href="javascript:call_link('abencds_view_glosry.html')" class="grey" title="Glossary Entry">CDS view</a>. The variable is
case-sensitive. <span class="qtext400">$session.vname</span>, <span class="qtext400">$Session.Vname</span>, and <span class="qtext400">$SESSION.VNAME</span> can all be used. No other spellings are allowed.
</p>
<p>
Session variables have a predefined name and can be set to a predefined value when the CDS view is used
in Open SQL. This also applies to CDS views that are used as data sources in other CDS views. The following session variables exist:
</p>
<table border>
<tr>
<td><span class="bold">vname</span></td>
<td><span class="bold">Value in Open SQL Accesses</span></td>
</tr>
<tr>
<td><span class="qtext400">user</span></td>
<td>Current <a href="javascript:call_link('abenuser_name_glosry.html')" class="grey" title="Glossary Entry">user name</a>, nominal
value of the ABAP system field <a href="javascript:call_link('abensystem_fields.html')" class="blue"><span class="qtext">sy-uname</span></a></td>
</tr>
<tr>
<td><span class="qtext400">client</span></td>
<td>Current <a href="javascript:call_link('abenclient_glosry.html')" class="grey" title="Glossary Entry">client</a>, nominal
value of the ABAP system field <a href="javascript:call_link('abensystem_fields.html')" class="blue"><span class="qtext">sy-mandt</span></a>
In an Open SQL statement access using the addition <a href="javascript:call_link('abapselect_client.html')" class="blue"><span class="qtext">USING CLIENT</span></a>, the value specified here.</td>
</tr>
<tr>
<td><span class="qtext400">system_language</span></td>
<td>Language of the current <a href="javascript:call_link('abentext_environment_glosry.html')" class="grey" title="Glossary Entry">text
environment</a>, nominal value of the ABAP system field <a href="javascript:call_link('abensystem_fields.html')" class="blue"><span class="qtext">sy-langu</span></a></td>
</tr>
<tr>
<td><span class="qtext400">system_date</span></td>
<td>Current <a href="javascript:call_link('abensystem_date_glosry.html')" class="grey" title="Glossary Entry">system date</a>
of the AS ABAP, nominal value of the ABAP system field <a href="javascript:call_link('abensystem_fields.html')" class="blue"><span class="qtext">sy-datum</span></a></td>
</tr>
</table><br>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>From a technical perspective, session variables indicate global variables of the current database
that are set to their value when the CDS view is used in Open SQL. If Open SQL is not used to access a CDS view with session variables, the content of the variables is undefined (with the exception of the
<a href="javascript:call_link('abenhana_database_glosry.html')" class="grey" title="Glossary Entry">SAP HANA database</a>).</li>
</ul>
<ul class="disc">
<li>On a <a href="javascript:call_link('abenhana_database_glosry.html')" class="grey" title="Glossary Entry">SAP HANA database</a> used as a central AS ABAP database, the
<a href="javascript:call_link('abenhana_session_variables.html')" class="blue">ABAP-specific session variables</a> are called
<span class="qtext400">APPLICATIONUSER</span>, <span class="qtext400">CDS_CLIENT</span>, <span class="qtext400">LOCALE_SAP</span>,
and <span class="qtext400">SAP_SYSTEM_DATE</span> and exist and are set independently of <span class="qtext400">ABAP CDS</span> and Open SQL. They can be accessed using the database function SESSION_CONTEXT.</li>
</ul>
<ul class="disc">
<li>A further <a href="javascript:call_link('abenhana_session_variables.html')" class="blue">ABAP-specific session variable</a>,
<span class="qtext400">CLIENT</span>, in the SAP HANA database always contains the current client of
the ABAP session and is not modified by the Open SQL addition <a href="javascript:call_link('abapselect_client.html')" class="blue"><span class="qtext">
USING CLIENT</span></a>. The HANA session variable <span class="qtext400">CLIENT</span> does not have a corresponding variable in ABAP CDS.</li>
</ul>
<ul class="disc">
<li>For <a href="javascript:call_link('abencds_f1_parameter_list.html')" class="blue">input parameters</a> of CDS views annotated
with the special annotation <a href="javascript:call_link('abencds_f1_parameter_annotations.html')" class="blue"><span class="qtext400">environment.systemField</span></a>,
Open SQL can pass the values of the session variables specified here automatically too. It is generally preferable to use this type of local input parameter.</li>
</ul>
<ul class="disc">
<li>In existing CDS views without corresponding input parameters, session variables can be passed to the input parameters of CDS views or CDS table functions used there.</li>
</ul>
<ul class="disc">
<li>In access to a CDS view using the Open SQL statement <a href="javascript:call_link('abapselect.html')" class="blue"><span class="qtext">
SELECT</span></a> where the session variable <span class="qtext400">client</span> is used, the addition
<a href="javascript:call_link('abapselect_client.html')" class="blue"><span class="qtext">CLIENT SPECIFIED</span></a> cannot
be used. The addition <a href="javascript:call_link('abapselect_client.html')" class="blue"><span class="qtext">USING CLIENT</span></a> can be used and is respected in the session variable for the duration of the Open SQL statement.</li>
</ul>
<ul class="disc">
<li>A CDS view that accesses a session variable directly or using a view cannot usually be
<a href="javascript:call_link('abencds_sap_puffer.html')" class="blue">buffered</a>. Only
<a href="javascript:call_link('abencds_client_handling.html')" class="blue">client-specific</a> views that access the session variable <span class="qtext400">client</span> directly can be buffered.</li>
</ul>
<p><span class="h4">
Example
</span></p>
<p>
The following CDS view contains the possible session variables in the <span class="qtext400">SELECT</span>
list. The program <span class="lnkgrey">DEMO_CDS_SESSION_VARIABLES</span> uses Open SQL to access the
view and fills the session variables with the associated values. Here, it is possible to define whether <a href="javascript:call_link('abapselect_client.html')" class="blue"><span class="qtext">USING CLIENT</span></a> is used or not.
</p>
<dl><dd>
<span class="qtext400">@AbapCatalog.sqlViewName: 'DEMO_CDS_SESSVAR' <br>@AccessControl.authorizationCheck: #NOT_REQUIRED <br>
define view demo_cds_session_variables <br>&nbsp;&nbsp;as select from <br>&nbsp;&nbsp;&nbsp;&nbsp;demo_expressions <br>
&nbsp;&nbsp;&nbsp;&nbsp;{ <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id, <br>&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;$session.user&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;as system_user, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$session.client&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;as system_client, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$session.system_language as system_language, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$session.system_date&nbsp;&nbsp;&nbsp;&nbsp; as system_date <br>
&nbsp;&nbsp;&nbsp;&nbsp;}  <br>&nbsp;&nbsp; <br></span>
</dd></dl>
<p><span class="h4">
Example
</span></p>
<p>
The following CDS view <span class="qtext400">DEMO_CDS_SELECT_T100</span> accesses a further CDS view
<span class="qtext400">DEMO_CDS_SELECT_T100_LANGU</span> with a language input parameter to which the
annotation <a href="javascript:call_link('abencds_f1_parameter_annotations.html')" class="blue"> <span class="qtext400">environment.systemField</span></a>
with the value <span class="qtext400">system_language</span> is assigned. Unlike in Open SQL, there
is no implicit pass of the actual parameter to the input parameter here and the corresponding session
variable <span class="qtext400">$session.system_language</span> is passed instead. The program <span class="lnkgrey">
DEMO_CDS_T100</span> uses Open SQL to access both views and the result is identical. When <span class="qtext400">DEMO_CDS_SELECT_T100_LANGU</span>
is accessed, the value of the system field <span class="qtext">sy-langu</span> is passed implicitly
to the input parameter. When <span class="qtext400">DEMO_CDS_SELECT_T100</span> is accessed, the session variable <span class="qtext400">$session.system_language</span> is filled with this value.
</p>
<dl><dd>
<span class="qtext400">@AbapCatalog.sqlViewName: 'DEMO_CDS_T100' <br>@AccessControl.authorizationCheck: #NOT_REQUIRED <br>
define view demo_cds_select_t100 <br>&nbsp;&nbsp;as select from <br>&nbsp;&nbsp;&nbsp;&nbsp;demo_cds_select_t100_langu( p_langu: $session.system_language ) <br>
&nbsp;&nbsp;&nbsp;&nbsp;{ <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br>&nbsp;&nbsp;&nbsp;&nbsp;}  <br>&nbsp;&nbsp; <br></span>
</dd></dl>
<dl><dd>
<span class="qtext400">@AbapCatalog.sqlViewName: 'DEMO_CDS_T100_LG' <br>@AccessControl.authorizationCheck: #NOT_REQUIRED <br>
define view demo_cds_select_t100_langu <br>&nbsp;&nbsp;with parameters <br>&nbsp;&nbsp;&nbsp;&nbsp;@Environment.systemField:#SYSTEM_LANGUAGE <br>
&nbsp;&nbsp;&nbsp;&nbsp;p_langu : lang <br>&nbsp;&nbsp;as select from <br>&nbsp;&nbsp;&nbsp;&nbsp;t100 <br>
&nbsp;&nbsp;&nbsp;&nbsp;{ <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br>&nbsp;&nbsp;&nbsp;&nbsp;} <br>
&nbsp;&nbsp;&nbsp;&nbsp;where <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sprsl = :p_langu <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and arbgb = 'SABAPDEMOS'  <br>&nbsp;&nbsp; <br></span>
</dd></dl>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_751_index_htm/7.51/en-US/abencds_f1_session_variable.htm by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 20 Jan 2022 17:25:07 GMT -->
</html>
