<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABAPSET_LOCALE -->

<!-- Mirrored from help.sap.com/doc/abapdocu_751_index_htm/7.51/en-US/abapset_locale.htm by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 20 Jan 2022 17:45:40 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="SET LOCALE LANGUAGE">
<meta name="keywords" content="ABAP, SET LOCALE LANGUAGE">
<title>
SET LOCALE LANGUAGE - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script type="text/JavaScript">
function call_link(linked_file)
{
   if(parent.frames.length>0){
     parent.window.frames["basefrm"].window.location = linked_file;
     parent.window.frames["treeframe"].window.location = "abap_docu_tree92bd.html?file=" + linked_file;}
   else {
     window.location = linked_file;}
}
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abapset_locale.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abapset_locale.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<p class="copyright">SAP NetWeaver AS ABAP Release 751, &copy;Copyright 2017 SAP AG. All rights reserved.
&nbsp;<input type="button" value="URL" style="font-size:8px; width:26px; height:16px; padding:0"
 onclick="urlToClipboard('url')" title="Copy URL to Clipboard" >
</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP - Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP - Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenlanguage.html')" class="blue">Language Environment</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abentext_environment.html')" class="blue">Text Environment</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@SET LOCALE LANGUAGE@@!ABAP_STATEMENT!@@"></A>
<p><span class="h1">
SET LOCALE LANGUAGE <br><br>
</span></p>
<P>
<a href="javascript:call_link('abapset_locale_shortref.html')" class="blue">Quick Reference</a> <br><br>
</P>
<p><span class="h2">
<span class="bold">Syntax</span>
</span></p>
<P>
<span class="qtext"> SET LOCALE LANGUAGE lang <i class=bn>[</i><a href="javascript:call_link('abapset_locale_obsolete.html')" class="blue">obsolete_parameters</a><i class=bn>]</i>.</span> <br><br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
This statement defines the <a href="javascript:call_link('abentext_environment_glosry.html')" class="grey" title="Glossary Entry">text environment</a> (language and locale) for all programs of the current
<a href="javascript:call_link('abeninternal_session_glosry.html')" class="grey" title="Glossary Entry">internal session</a> for
the languages specified in <span class="qtext">lang</span>, and sets <span class="qtext">sy-langu</span>
to this value. The statement has two obsolete additions <a href="javascript:call_link('abapset_locale_obsolete.html')" class="blue"><span class="qtext">
COUNTRY</span></a> and <a href="javascript:call_link('abapset_locale_obsolete.html')" class="blue"><span class="qtext">MODIFIER</span></a> that should no longer be used.
</P>
<P>
<span class="qtext">lang</span> expects a character-like data object containing a language key (with a maximum of one character) for which
<a href="javascript:call_link('abenlocale_glosry.html')" class="grey" title="Glossary Entry">locale</a> properties are defined in the ICU library of the
<a href="javascript:call_link('abenapplication_server_glosry.html')" class="grey" title="Glossary Entry">application server</a>.
The possible language keys are contained in the SPRAS column of the database table <span class="lnkgrey">T002</span>.
The locale of the text environment is set accordingly. If the data object <span class="qtext">lang</span> only contains blank characters, the logon language of the current user is used and the
<a href="javascript:call_link('abapset_locale_obsolete.html')" class="blue">additions</a> are ignored.
</P>
<P>
The text environment modifies the following:
</P>
<ul class="disc">
<li>
How <a href="javascript:call_link('abapsort_itab.html')" class="blue">internal tables</a> and
<a href="javascript:call_link('abapsort_extract.html')" class="blue">extracts</a> are sorted using the statement <span class="qtext">SORT</span>
with the addition <span class="qtext">AS TEXT</span> and the statement <a href="javascript:call_link('abapconvert_text.html')" class="blue"><span class="qtext">CONVERT TEXT</span></a>
<br><br></li>
<li>
The additions <a href="javascript:call_link('abapopen_dataset_mode.html')" class="blue"><span class="qtext">LEGACY</span></a>
and <a href="javascript:call_link('abapopen_dataset_encoding.html')" class="blue"><span class="qtext">NON-UNICODE</span></a> of the statement <a href="javascript:call_link('abapopen_dataset.html')" class="blue"><span class="qtext">OPEN DATASET</span></a>,
<br><br></li>
<li>
Any behavior that depends on the content of <span class="qtext">sy-langu</span>
<br></li>
</ul>
<P>
The <a href="javascript:call_link('abencodepage_glosry.html')" class="grey" title="Glossary Entry">code page</a> of the text environment is always
<a href="javascript:call_link('abenutf16_glosry.html')" class="grey" title="Glossary Entry">UTF-16</a> (this cannot be changed and the ABAP programming language supports the subset
<a href="javascript:call_link('abenucs2_glosry.html')" class="grey" title="Glossary Entry">UCS-2</a>) and is not influenced by
the statement <span class="qtext">SET LOCALE</span>. After <span class="qtext">SET LOCALE</span> is
executed, however, the non-Unicode code page that would be set by the statement in a non-Unicode system (see below), is used for specific statements such as reading and writing
<a href="javascript:call_link('abenlegacy_file_glosry.html')" class="grey" title="Glossary Entry">legacy files</a> for conversions.
If possible, this non-Unicode code page is taken from the column CHARCO of the database table <span class="lnkgrey">
TCP0C</span>. The key used here is created from the current operating system of the application server
(system field <span class="qtext">sy-opsys</span>), the language key specified in <span class="qtext">lang</span>, and a language ID set implicitly from the database table <span class="lnkgrey">TCP0D</span> or
<a href="javascript:call_link('abapset_locale_obsolete.html')" class="blue">set explicitly</a>.
</P>
<p><span class="h4">
Programming Guideline
</span></p>
<P>
<a href="javascript:call_link('abentext_environm_guidl.html')" class="lnkpurple" title="Guideline">If possible, do not switch the text environment within the code</a>
</P>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
The text environment of an internal session should only be changed for the following purposes:
<br></li>
</ul>
<ul class="circlem2">
<li>Processing character-like data objects that are in a different language to the logon language of
the current user. The language is important for the statements <a href="javascript:call_link('abapsort_itab.html')" class="blue">
<span class="qtext">SORT ... AS TEXT</span></a> and <a href="javascript:call_link('abapconvert_text.html')" class="blue"> <span class="qtext">CONVERT TEXT</span></a>.</li>
</ul>
<ul class="circlem2">
<li><a href="javascript:call_link('abenlegacy_file_glosry.html')" class="grey" title="Glossary Entry">Legacy files</a> can be read and written.</li>
</ul>
<ul class="disc">
<li>
After processing in a changed text environment, the text environment should be reset to the previous text environment.
<br><br></li>
<li>
Instead of the <span class="qtext">SET LOCALE</span> statement, the four function modules whose names
begin with SCP_MIXED_LANGUAGES_ can be used to define or change the current text environment, and to reset it to the original text environment.
<br><br></li>
<li>
Do not confuse the statement <span class="qtext">SET LOCALE LANGUAGE</span> with the statement <a href="javascript:call_link('abapset_language.html')" class="blue"><span class="qtext">SET LANGUAGE</span></a>, used for loading the texts of a
<a href="javascript:call_link('abentext_pool_glosry.html')" class="grey" title="Glossary Entry">text pool</a>. <br><br>
<br></li>
</ul>
<p><span class="h4">
Executable Example
</span></p>
<p>
<a href="javascript:call_link('abenset_locale_abexa.html')" class="blue">Setting the Text Environment</a> <br><br>
</p>
<p><span class="h4">
<a href="javascript:call_link('abenabap_language_exceptions.html')" class="blue">Exceptions</a>
</span></p>
<P>
<span class="bold">Handleable Exceptions</span>
</P>
<P>
<span class="lnkgrey">CX_SY_LOCALIZATION_ERROR</span>
</P>
<ul class="disc">
<li>
<span class="italic">Cause:</span> Using the tables TCP0D and TCP0C, a character set was detected that
is not released in your system. The released character sets are in the table TCPDB. Normally this table
contains exactly one character set and this runtime error occurs because the system has attempted to use a non-compatible language. <br>
<span class="italic">Runtime error:</span> <span class="qtext">TEXTENV_CODEPAGE_NOT_ALLOWED</span>
<br><br></li>
<li>
<span class="italic">Cause:</span> No entry exists (for the current platform) in the SAP text environment
table TCP0C for the specified keys <span class="qtext">lang</span>, <span class="qtext">cntry</span>, and <span class="qtext">mod</span>. <br>
<span class="italic">Runtime error:</span> <span class="qtext">TEXTENV_KEY_INVALID</span> <br><br>
<br></li>
</ul>
<P>
<span class="bold">Non-Handleable Exceptions</span>
</P>
<ul class="disc">
<li>
<span class="italic">Cause:</span> Selection of a 'binary' text environment using the modifier <span class="qtext">
'BINARY'</span>, <span class="qtext">'C'</span>, <span class="qtext">'POSIX'</span>, or <span class="qtext">'RAW'</span>. <br>
<span class="italic">Runtime error:</span> <span class="qtext">TEXTENV_BINARY_NOT_SUPPORTED</span>
<br><br></li>
<li>
<span class="italic">Cause:</span> One of the key values <span class="qtext">lang</span>, <span class="qtext">cntry</span>,
or <span class="qtext">mod</span> is longer than the corresponding fields LANGU, COUNTRY, or MODIFIER in the SAP text environment table TCP0C. <br>
<span class="italic">Runtime error:</span> <span class="qtext">TEXTENV_KEY_TOO_LONG</span> <br><br>
<br></li>
</ul>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_751_index_htm/7.51/en-US/abapset_locale.htm by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 20 Jan 2022 17:45:45 GMT -->
</html>
