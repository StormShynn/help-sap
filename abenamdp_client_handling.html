<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENAMDP_CLIENT_HANDLING -->

<!-- Mirrored from help.sap.com/doc/abapdocu_751_index_htm/7.51/en-US/abenamdp_client_handling.htm by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 20 Jan 2022 17:43:39 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="AMDP - Client Handling">
<title>
AMDP - Client Handling - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script type="text/JavaScript">
function call_link(linked_file)
{
   if(parent.frames.length>0){
     parent.window.frames["basefrm"].window.location = linked_file;
     parent.window.frames["treeframe"].window.location = "abap_docu_tree92bd.html?file=" + linked_file;}
   else {
     window.location = linked_file;}
}
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abenamdp_client_handling.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abenamdp_client_handling.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<p class="copyright">SAP NetWeaver AS ABAP Release 751, &copy;Copyright 2017 SAP AG. All rights reserved.
&nbsp;<input type="button" value="URL" style="font-size:8px; width:26px; height:16px; padding:0"
 onclick="urlToClipboard('url')" title="Copy URL to Clipboard" >
</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP - Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP - Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_language_external_data.html')" class="blue">Processing External Data</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_sql.html')" class="blue">ABAP Database Accesses</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abennative_sql.html')" class="blue">Native SQL</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenamdp.html')" class="blue">AMDP - ABAP Managed Database Procedures</a>&nbsp;&rarr;&nbsp;
</span>
<p><span class="h1">
AMDP - Client Handling
</span></p>
<p>
The AMDPs are a part of <a href="javascript:call_link('abennative_sql_glosry.html')" class="grey" title="Glossary Entry">Native SQL</a> and do not support automatic
<a href="javascript:call_link('abenclient_handling_glosry.html')" class="grey" title="Glossary Entry">client handling</a>. When
accessing client-specific database tables or views in an AMDP method, the required client ID must be
selected explicitly. Generally, the parameter interface of an AMDP method must therefore contain an input parameter for the client ID.
</p>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>Using an input parameter for the client ID is particularly advisable for
<a href="javascript:call_link('abenamdp_function_methods.html')" class="blue">AMDP function implementations</a> of
<a href="javascript:call_link('abencds_func_client_handling.html')" class="blue">client-specific CDS table functions</a>. In
Open SQL reads, only the data of the current client or clients specified using <a href="javascript:call_link('abapselect_client.html')" class="blue">
<span class="qtext">USING CLIENT</span></a> in the results set is respected by default. Selecting this
precise data in the function implementation, however, is recommended both for performance reasons and for making sure that the correct data is read.</li>
</ul>
<ul class="disc">
<li>In <a href="javascript:call_link('abenamdp_hdb_sqlscript.html')" class="blue">SQLScript</a> implementations, the predefined function <span class="qtext400">SESSION_CONTEXT</span> can be used to access the
<a href="javascript:call_link('abenhana_session_variables.html')" class="blue">ABAP-specific session variables</a> <span class="qtext400">CLIENT</span>
and <span class="qtext400">CDS_CLIENT</span> too. In a call from ABAP, these variables contain the ID
of the current client. During an Open SQL statement, <span class="qtext400">CDS_CLIENT</span> is affected
by the addition <a href="javascript:call_link('abapselect_client.html')" class="blue"><span class="qtext">USING CLIENT</span></a>.
Access of this type should be used only if it is verifiable that an AMDP method is called only from ABAP and only data from the current ABAP client is accessed. In other cases, the result is undefined.</li>
</ul>
<ul class="disc">
<li>It is generally recommended to transfer the required client ID using an input parameter.</li>
</ul>
<ul class="circlem2">
<li>If the current client is accessed in an <a href="javascript:call_link('abenamdp_function_methods.html')" class="blue">implementation</a> of a
<a href="javascript:call_link('abencds_table_function_glosry.html')" class="grey" title="Glossary Entry">CDS table function</a> using the
<a href="javascript:call_link('abenhana_session_variables.html')" class="blue">ABAP-specific session variable</a> <span class="qtext400">CLIENT</span>,
the addition <a href="javascript:call_link('abapselect_client.html')" class="blue"><span class="qtext">USING
CLIENT</span></a> of the Open SQL statement <a href="javascript:call_link('abapselect.html')" class="blue"><span class="qtext">SELECT</span></a> is ignored.</li>
</ul>
<ul class="circlem2">
<li>If the <a href="javascript:call_link('abenhana_session_variables.html')" class="blue">session variable</a> <span class="qtext400">CDS_CLIENT</span>
is accessed, <a href="javascript:call_link('abapselect_client.html')" class="blue"><span class="qtext">USING CLIENT</span></a>
is only effective during access by Open SQL. There is no equivalent for <span class="qtext">USING CLIENT</span> when using the AMDP function in an AMDP method that is called directly from ABAP.</li>
</ul>
<p><span class="h4">
Example
</span></p>
<p>
The executable example of how to <a href="javascript:call_link('abenamdp_abexa.html')" class="blue">implement an SQLScript procedure</a>
demonstrates explicit client handling using an input parameter and using the ABAP-specific session variable <span class="qtext400">CLIENT</span>.
</p>
<br>
<br>
<br>
<span class="trans"
>
<br>This translation does not reflect the current version of the documentation.<br>
</span><br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_751_index_htm/7.51/en-US/abenamdp_client_handling.htm by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 20 Jan 2022 17:43:39 GMT -->
</html>
