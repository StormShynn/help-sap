<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABAPINSERT_ITAB_LINESPEC -->

<!-- Mirrored from help.sap.com/doc/abapdocu_751_index_htm/7.51/en-US/abapinsert_itab_linespec.htm by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 20 Jan 2022 17:41:39 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="INSERT - line_spec">
<title>
INSERT - line_spec - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script type="text/JavaScript">
function call_link(linked_file)
{
   if(parent.frames.length>0){
     parent.window.frames["basefrm"].window.location = linked_file;
     parent.window.frames["treeframe"].window.location = "abap_docu_tree92bd.html?file=" + linked_file;}
   else {
     window.location = linked_file;}
}
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abapinsert_itab_linespec.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abapinsert_itab_linespec.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<p class="copyright">SAP NetWeaver AS ABAP Release 751, &copy;Copyright 2017 SAP AG. All rights reserved.
&nbsp;<input type="button" value="URL" style="font-size:8px; width:26px; height:16px; padding:0"
 onclick="urlToClipboard('url')" title="Copy URL to Clipboard" >
</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP - Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP - Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_data_working.html')" class="blue">Processing Internal Data</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenitab.html')" class="blue">Internal Tables</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abentable_processing_statements.html')" class="blue">Processing Statements for Internal Tables</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abapinsert_itab.html')" class="blue">INSERT itab</a>&nbsp;&rarr;&nbsp;
</span>
<p><span class="h1">
INSERT - line_spec <br><br>
</span></p>
<P>
<a href="javascript:call_link('abapinsert_itab_shortref.html')" class="blue">Quick Reference</a> <br><br>
</P>
<p><span class="h2">
<span class="bold">Syntax</span>
</span></p>
<P>
<span class="qtext">... wa</span> <br><span class="qtext">&nbsp;&nbsp;<i class=bn>|</i> <i class=bn>{</i>INITIAL LINE<i class=bn>}</i></span> <br>
<span class="qtext">&nbsp;&nbsp;<i class=bn>|</i> <i class=bn>{</i>LINES OF jtab <i class=bn>[</i>FROM idx1<i class=bn>]</i> <i class=bn>[</i>TO idx2<i class=bn>]</i> <i class=bn>[</i>USING KEY
<a href="javascript:call_link('abenkeyname.html')" class="blue">keyname</a><i class=bn>]</i><i class=bn>}</i> ...</span> <br><br>
</P>
<p><span class="h2">
Alternatives:
</span></p>
<P>
   <A HREF="#!ABAP_ALTERNATIVE_1@1@" class="blue"> 1. <span class="qtext">... wa</span> </A> <br><br><A HREF="#!ABAP_ALTERNATIVE_2@2@" class="blue">
 2. <span class="qtext">... INITIAL LINE</span> </A> <br><br><A HREF="#!ABAP_ALTERNATIVE_3@3@" class="blue"> 3. <span class="qtext">... LINES OF jtab <i
class=bn>[</i>FROM idx1<i class=bn>]</i> <i class=bn>[</i>TO idx2<i class=bn>]</i> <i class=bn>[</i>USING KEY keyname<i class=bn>]</i></span> </A> <br><br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Either a work area <span class="qtext">wa</span>, an initial row <span class="qtext">INITIAL LINE</span>, or multiple rows of an internal table <span class="qtext">jtab</span> can be appended. <br><br>
</P>
<p><span class="h2">
<A NAME="!ABAP_ALTERNATIVE_1@1@"></A> <span class="bold">Alternative 1</span>
</span></p>
<P>
<span class="qtext">... wa</span> <br><br><br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
A new row is created to which the content of the work area <span class="qtext">wa</span> is assigned. <span class="qtext">wa</span> is a
<a href="javascript:call_link('abengeneral_expr_position_glosry.html')" class="grey" title="Glossary Entry">general expression position</a>. To insert using the table key, <span class="qtext">wa</span>
<a href="javascript:call_link('abencompatible_glosry.html')" class="grey" title="Glossary Entry">must be compatible with</a>
the row type of the internal table. To insert using the table index, <span class="qtext">wa</span> must be incompatible with the row type of the internal table. wa is converted to the relevant row type, in accordance with the
<a href="javascript:call_link('abenconversion_rules.html')" class="blue">conversion rules</a>. If a conversion error occurs here, the exception cannot be handled using CX_SY_CONVERSION_ERROR and the associated runtime error occurs instead. If an
<a href="javascript:call_link('abenarithmetic_expression_glosry.html')" class="grey" title="Glossary Entry">arithmetic expression</a> is specified for <span class="qtext">wa</span>, the row type of the internal table is respected when determining the
<a href="javascript:call_link('abencalculation_type_glosry.html')" class="grey" title="Glossary Entry">calculation type</a>.
</P>
<P>
When inserting individual rows into an internal table with non-unique
<a href="javascript:call_link('abenitab_key.html')" class="blue">table keys</a>, the order of the duplicate rows in relation
to these keys is determined in accordance with the insertion order of the individual rows. In the case of secondary table keys, this order is determined place during the
<a href="javascript:call_link('abenlazy_update_glosry.html')" class="grey" title="Glossary Entry">lazy update</a>. <br><br>
</P>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
If there is a conflict with the existing unique primary table key, no row is added and if a key access
occurs, <span class="qtext">sy-subrc</span> is set to 4. In an index access occurs, a non-handleable
exception is raised. In the case of a conflict with a unique secondary table key, a handleable exception of the class CX_SY_ITAB_DUPLICATE_KEY is raised. <br>
<br></li>
<li>
Specifying a <a href="javascript:call_link('abencalculation_expression_glosry.html')" class="grey" title="Glossary Entry">calculation expression</a> for <span class="qtext">wa</span> is usually only a good idea for elementary row types. <br>
<br></li>
<li>
With the exception, an <a href="javascript:call_link('abenitab_short_forms.html')" class="blue">obsolete short form</a> is possible where <span class="qtext">wa INTO</span> can be omitted if the internal table has a
<a href="javascript:call_link('abenheader_line_glosry.html')" class="grey" title="Glossary Entry">header line</a> <span class="qtext">itab</span> with the same name. The statement then uses the header line as the work area implicitly. <br><br>
<br></li>
</ul>
<A NAME="@@INITIAL LINE@@INSERT itab@@"></A>
<p><span class="h2">
<A NAME="!ABAP_ALTERNATIVE_2@2@"></A> <span class="bold">Alternative 2</span>
</span></p>
<P>
<span class="qtext">... INITIAL LINE</span> <br><br><br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
A new row is created in which every component contains the type-friendly <a href="javascript:call_link('abenbuilt_in_types_complete.html')" class="blue">initial value</a>.
</P>
<p><span class="h4">
Example
</span></p>
<P>
Inserting an initial row which is also linked to a field symbol by the <a href="javascript:call_link('abapappend_result.html')" class="blue">
<span class="qtext">ASSIGNING</span></a> addition. This means that initial rows can be processed directly.
</P>
<p class="qtextml1">
<span class="qtext">
DATA itab TYPE TABLE OF spfli. <br> <br>FIELD-SYMBOLS &lt;line> LIKE LINE OF itab. <br> <br>INSERT INITIAL LINE INTO itab INDEX 1 ASSIGNING &lt;line>. <br> &lt;line>-carrid = '...'. <br>... <br><br>
</span>
</p>
<A NAME="@@USING KEY@@INSERT itab@@"></A>
<A NAME="@@LINES OF@@INSERT itab@@"></A>
<A NAME="@@FROM idx@@INSERT itab@@"></A>
<A NAME="@@TO idx@@INSERT itab@@"></A>
<p><span class="h2">
<A NAME="!ABAP_ALTERNATIVE_3@3@"></A> <span class="bold">Alternative 3</span>
</span></p>
<P>
<span class="qtext">... LINES OF jtab <i class=bn>[</i>FROM idx1<i class=bn>]</i> <i class=bn>[</i>TO idx2<i class=bn>]</i> <i class=bn>[</i>USING KEY keyname<i class=bn>]</i></span> <br><br><br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
The rows of an internal table <span class="qtext">jtab</span> are added as a block. <span class="qtext">jtab</span> is a
<a href="javascript:call_link('abenfunctional_position_glosry.html')" class="grey" title="Glossary Entry">functional operand
position</a>. The row types of <span class="qtext">itab</span> and <span class="qtext">jtab</span> must be compatible when inserting using the table key and must be convertible when inserting using the index.
</P>
<P>
The inserted rows are sequentially taken from the table <span class="qtext">jtab</span>. The order in
which the rows are taken is the same as for the statement <a href="javascript:call_link('abaploop_at_itab.html')" class="blue"><span class="qtext">
LOOP</span></a> and can also be influenced by specifying a table key <a href="javascript:call_link('abenkeyname.html')" class="blue"><span class="qtext">
keyname</span></a> after <span class="qtext">USING KEY</span>. The additions <span class="qtext">FROM
idx1</span> and <span class="qtext">TO idx2</span> have, in relation to <span class="qtext">jtab</span>,
the same syntax and effect as for <a href="javascript:call_link('abaploop_at_itab_cond.html')" class="blue"><span class="qtext">LOOP</span></a>.
</P>
<P>
When inserting rows as a block into an internal table with non-unique
<a href="javascript:call_link('abenprimary_table_key_glosry.html')" class="grey" title="Glossary Entry">primary table keys</a>, the order of the duplicate rows in relation to this primary key is retained. This does not apply for
<a href="javascript:call_link('abensecondary_key_glosry.html')" class="grey" title="Glossary Entry">secondary keys</a>.
</P>
<ul class="disc">
<li>
If there is already a duplicate entry in a sorted target table, the duplicates of the source block are inserted in their original order in front of the first duplicate in the target table.
<br><br></li>
<li>
When insertions are made in standard tables, however, <span class="qtext">INSERT</span> always operates
like the statement <a href="javascript:call_link('abapappend.html')" class="blue"><span class="qtext">APPEND</span></a> and the
rows are appended in their original order after the last row as in the addition <a href="javascript:call_link('abapappend_linespec.html')" class="blue"><span class="qtext">LINES OF</span></a> .
<br></li>
</ul>
<P>
If there is a conflict with an existing unique table key, a handleable exception is raised when inserting
multiple rows from an internal table. If a conversion error occurs when rows are inserted, the exception cannot be handled using CX_SY_CONVERSION_ERROR and the associated runtime error occurs instead. <br><br>
</P>
<p><span class="h4">
Note
</span></p>
<P>
When an internal tables is constructed, the constructor operators <a href="javascript:call_link('abenconstructor_expression_new.html')" class="blue">
<span class="qtext">NEW</span></a> and <a href="javascript:call_link('abenconstructor_expression_new.html')" class="blue"><span class="qtext">
VALUE</span></a> can also insert multiple rows from a table into the target table using <a href="javascript:call_link('abennew_constructor_params_lspc.html')" class="blue"><span class="qtext">LINES OF</span></a>. <br><br>
</P>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_751_index_htm/7.51/en-US/abapinsert_itab_linespec.htm by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 20 Jan 2022 17:41:39 GMT -->
</html>
