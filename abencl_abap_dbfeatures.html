<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENCL_ABAP_DBFEATURES -->

<!-- Mirrored from help.sap.com/doc/abapdocu_751_index_htm/7.51/en-US/abencl_abap_dbfeatures.htm by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 20 Jan 2022 17:43:56 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="System Class for Database Features">
<title>
System Class for Database Features - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script type="text/JavaScript">
function call_link(linked_file)
{
   if(parent.frames.length>0){
     parent.window.frames["basefrm"].window.location = linked_file;
     parent.window.frames["treeframe"].window.location = "abap_docu_tree92bd.html?file=" + linked_file;}
   else {
     window.location = linked_file;}
}
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abencl_abap_dbfeatures.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abencl_abap_dbfeatures.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<p class="copyright">SAP NetWeaver AS ABAP Release 751, &copy;Copyright 2017 SAP AG. All rights reserved.
&nbsp;<input type="button" value="URL" style="font-size:8px; width:26px; height:16px; padding:0"
 onclick="urlToClipboard('url')" title="Copy URL to Clipboard" >
</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP - Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP - Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_language_external_data.html')" class="blue">Processing External Data</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_sql.html')" class="blue">ABAP Database Accesses</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@CL_ABAP_DBFEATURES@@!ABAP_CLASS!@@"></A>
<p><span class="h1">
System Class for Database Features
</span></p>
<p>
The method USE_FEATURES of the class <span class="lnkgrey">CL_ABAP_DBFEATURES</span> can be used to detect whether the current database or a database specified using a
<a href="javascript:call_link('abendatabase_connection_glosry.html')" class="grey" title="Glossary Entry">database connection</a>
supports particular features and whether these can be used at runtime in ABAP. One or more features
can be queried and then passed to the method in an internal table. The potential row content of the
internal table is determined using constants of the class CL_ABAP_DBFEATURES. Other values raise an exception from the class CX_ABAP_INVALID_PARAM_VALUE.
</p>
<table border>
<tr>
<td><span class="bold">Constant</span></td>
<td><span class="bold">Database Feature</span></td>
<td><span class="bold">Use in ABAP</span></td>
</tr>
<tr>
<td>AMDP_TABLE_FUNCTION</td>
<td><a href="javascript:call_link('abentable_function_glosry.html')" class="grey" title="Glossary Entry">Table Functions</a></td>
<td>Access to <a href="javascript:call_link('abencds_table_function_glosry.html')" class="grey" title="Glossary Entry">CDS table functions</a> in Open SQL.</td>
</tr>
<tr>
<td>EXTERNAL_VIEWS</td>
<td><a href="javascript:call_link('abenhana_view_glosry.html')" class="grey" title="Glossary Entry">SAP HANA views</a></td>
<td>Access to <a href="javascript:call_link('abenexternal_view_glosry.html')" class="grey" title="Glossary Entry">external views</a> in Open SQL</td>
</tr>
<tr>
<td>CALL_AMDP_METHOD</td>
<td>Supports <a href="javascript:call_link('abenamdp_glosry.html')" class="grey" title="Glossary Entry">AMDP</a></td>
<td><a href="javascript:call_link('abapcall_method_static_short.html')" class="blue">Method call</a> of <a href="javascript:call_link('abenamdp_procedure_method_glosry.html')" class="grey" title="Glossary Entry">AMDP procedure implementations</a></td>
</tr>
<tr>
<td>CALL_DATABASE_PROCEDURE</td>
<td><a href="javascript:call_link('abendatabase_procedure_glosry.html')" class="grey" title="Glossary Entry">Database Procedures</a></td>
<td>Call of database procedures using <a href="javascript:call_link('abapcall_database_procedure.html')" class="blue"><span class="qtext">CALL DATABASE PROCEDURE</span></a></td>
</tr>
<tr>
<td>TABLE_KEYCNT_MAX1</td>
<td>Up to 120 key fields</td>
<td>A table can contain more key fields than is permitted as a <a href="javascript:call_link('abenddic_database_tables_key.html')" class="blue">cross-platform table</a>.</td>
</tr>
<tr>
<td>TABLE_KEYLEN_MAX1</td>
<td>Keys can have up to 2000 bytes</td>
<td>The key of a table can contain more bytes than is permitted as a <a href="javascript:call_link('abenddic_database_tables_key.html')" class="blue">cross-platform table</a>.</td>
</tr>
<tr>
<td>TABLE_LEN_MAX1</td>
<td>A table row can have up to 16293 bytes</td>
<td>A table row can contain more bytes than is permitted as a <a href="javascript:call_link('abenddic_database_tables_techstruc.html')" class="blue">cross-platform table</a>.</td>
</tr>
</table><br>
<p>
The method USE_FEATURES returns the value of <span class="qtext">abap_true</span> if the feature is supported by the database and the specified use in ABAP is possible.
</p>
<ul class="disc">
<li>The features AMDP_TABLE_FUNCTION, EXTERNAL_VIEWS, CALL_AMDP_METHOD, and CALL_DATABASE_PROCEDURE
can be used statically in ABAP programs regardless of the current database system, which means that
no syntax errors are produced when one of these database features is used in an ABAP program. For example,
it is possible to access external views in every ABAP program or AMDP methods can be called. An exception
is raised only if the current database does not support the feature in question at runtime. A syntax
warning (which can be hidden by a pragma) indicates the potential exception. The class CL_ABAP_DBFEATURES
can be used to check whether a special form of access is possible at runtime, instead of catching the corresponding exception. Replacement implementations can be used if an access type is not possible.</li>
</ul>
<ul class="disc">
<li>The features TABLE_KEYCNT_MAX1, TABLE_KEYLEN_MAX1, and TABLE_LEN_MAX1 can currently only be used
by SAP developers as internal flags for database tables, which indicate the tables potentially exceed
globally defined and cross-platform sizes. When a table like this is accessed using Open SQL, a syntax check warning occurs that can be hidden by a pragma. The warning for TABLE_LEN_MAX1 also occurs for
<a href="javascript:call_link('abenview_glosry.html')" class="grey" title="Glossary Entry">views</a> that use a table of this
type. In standard SAP systems, these tables are usually delivered within the general limits, but customers
and partners can enhance them and exceed these sizes. Tables enhanced like this can only be accessed
on database systems that support these expanded limits. Other database systems use a replacement implementation that can be accessed using the class CL_ABAP_DBFEATURES.</li>
</ul>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>If a syntax warning due to expanded database features occurs when a database object is accessed,
it should only be hidden by a pragma if the object was accessed on database systems that support the
features or if there is a replacement implementation. It is a good idea to wrap accesses to these types of database objects in an API.</li>
</ul>
<ul class="disc">
<li>Tables flagged as potentially exceeding cross-platform sizes should never be accessed globally.
They should always be accessed within an API wrapper and the associated replacement implementation should be wrapped too.</li>
</ul>
<ul class="disc">
<li>As soon as all database systems support a database feature and it can be used in ABAP, the checks
are no longer necessary. The associated constant is then disallowed and removed from the class CL_ABAP_DBFEATURES. This currently applies to the following constants:</li>
</ul>
<ul class="circlem2">
<li>VIEWS_WITH_PARAMETERS, CDS views with input parameters are supported by all database from Release 7.50.</li>
</ul>
<ul class="disc">
<li>The class <span class="lnkgrey">CL_ABAP_DBFEATURES_AUNITHELPER</span> can be used to reduce the set of database features in CL_ABAP_DBFEATURES during a
<a href="javascript:call_link('abenunit_test_glosry.html')" class="grey" title="Glossary Entry">unit test</a>. In programs that
use CL_ABAP_DBFEATURES, this makes it possible to test replacement implementations for databases that support fewer features than the current database.</li>
</ul>
<p><span class="h4">
Example
</span></p>
<p>
For the current database, checks whether specific additional features can be accessed using Open SQL.
</p>
<p class="qtextml1">
<span class="qtext">
IF cl_abap_dbfeatures=>use_features( <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EXPORTING <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;requested_features = <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VALUE #( ( cl_abap_dbfeatures=>amdp_table_function ) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( cl_abap_dbfeatures=>external_views ) ) ). <br>&nbsp;&nbsp;... <br>ELSE. <br>&nbsp;&nbsp;... <br>ENDIF.
</span>
</p>
<p><span class="h4">
Example
</span></p>
<p>
The program <span class="lnkgrey">DEMO_DBFEATURES</span> checks all possible database features for the current database.
</p>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_751_index_htm/7.51/en-US/abencl_abap_dbfeatures.htm by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 20 Jan 2022 17:43:56 GMT -->
</html>
